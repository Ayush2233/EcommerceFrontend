
<!-- <div class="heading">
    <h1>Shopping Cart</h1>
</div> -->

<div class="cartcontainer">

    <div class="leftcont">

        <div class="heading">
            <p>Cart</p>
        </div>

        <div class="carttop">
            <div class="cartheader">
                <p>PRODUCT</p>
                <p style="margin-left: 15%;">QUANTITY</p>
                <p style="margin-right: 17%;">PRICE</p>
                <!-- <p>PRICE</p> -->
            </div>
            <!-- <hr class="hrcart"> -->
        </div>
        
        <div class="cartproduct" *ngFor="let p of cartitems" >

            <div class="prodimage">
                <img [routerLink]="['/product',p.productEntity.id]" src="{{p.productEntity.image}}" alt="">
            </div>

            <div class="details">
                <p>{{p.productEntity.name}}</p>
                <!-- <p>Rs. {{p.price}}</p> -->
                <span>{{p.productEntity.description}}</span>
            </div>

            <div class="quantity">
                <p>x {{p.quantity}}</p>
               
                <!-- <a ><fa-icon  [icon]="delete" [styles]="{color:'black'}"></fa-icon></a> -->
            </div>

            <div class="productprice">
                <p>Rs. {{p.productEntity.price}}</p>
            </div>

            <div class="removefromcart">
                <!-- <a ><fa-icon  [icon]="delete" [styles]="{color:'black'}"></fa-icon></a> -->
                <a (click)="deletefromcart(p.productEntity.id)">Remove</a>   
            </div>
        </div>
    </div>

    <!-- <div class="leftcont" *ngIf="iscartempty==true">
        <p>Your Cart is Empty</p>
    </div> -->

    <div class="rightcont">
        <div class="ordersummary">
            
            <div class="summaryhead">
                <p>Order Summary</p>
            </div>
    
            <div class="urorder">
                Your Order
            </div>

            <div class="itemlist" *ngFor="let p of cartitems">
                <div class="pname">
                    {{p.productEntity.name}} x {{p.quantity}}
                </div>

                <div class="pprice">
                    Rs. {{p.productEntity.price*p.quantity}}
                </div>
            </div>
            
            <hr>

            <div class="discountsection">

                <div class="discountheading">
                    Discount
                </div>
                
                <form  #discountform="ngForm"class="addcoupon" (submit)="setdiscount(couponcode.value)">
                    <input type="text" #couponcode class="form-control coupon" placeholder="Apply Coupon Code" ngModel>
                    <button type="submit" class="btn btn-primary" >Apply</button>
                </form>

                <div class="subtotal">
                    <p>Subtotal</p>
                    <p class="totalprice">Rs. {{carttotal}}</p>
                </div>
                <div class="subtotal">
                    <p>Discount</p>
                    <p class="totalprice">- Rs. {{discount}}</p>
                </div>
                <div class="subtotal">
                    <p>Delivery Charges</p>
                    <p class="totalprice">+ Rs. {{delivery}}</p>
                </div>

                <hr>

                <div class="subtotal">
                    <p class="grndtotal">Grand Total</p>
                    <p class="grndtotal">Rs.{{grandtotal}}</p>
                </div>                
            </div>

            <div class="checkoutbutton" *ngIf="!isCartempty()">
                <a [routerLink]="['/checkout',discount]">Proceed to Checkout</a>
            </div>
        </div>
        
    </div>
</div>